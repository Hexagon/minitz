(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):(global=typeof globalThis!=="undefined"?globalThis:global||self,global.minitz=factory())})(this,function(){"use strict";let minitz={};minitz.toTZ=function(date,tzString){return new Date(date.toLocaleString("sv-SE",{timeZone:tzString}))};minitz.fromTZ=function(sourceDate,tzString){const targetPlus=new Date(sourceDate.toLocaleString("sv-SE",{timeZone:tzString})),offset=sourceDate.getTime()-targetPlus.getTime();let testOffset=0,iterations=0,closestAfter=-Infinity;while(iterations++<2){const testTarget=new Date(sourceDate.getTime()+offset-testOffset),test=new Date(testTarget.toLocaleString("sv-SE",{timeZone:tzString}));testOffset=test.getTime()-sourceDate.getTime();if(testOffset===0){return testTarget}else{if(testOffset<0&&testOffset>closestAfter){closestAfter=testOffset}}}return new Date(sourceDate.getTime()+offset-closestAfter)};minitz.minitz=minitz;return minitz});